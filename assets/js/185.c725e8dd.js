(window.webpackJsonp=window.webpackJsonp||[]).push([[185],{554:function(e,a,t){"use strict";t.r(a);var s=t(42),r=Object(s.a)({},(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#路由"}},[e._v("#")]),e._v(" 路由")]),e._v(" "),t("h2",{attrs:{id:"查看检索-rails-路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#查看检索-rails-路由"}},[e._v("#")]),e._v(" 查看检索 Rails 路由")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# 查看所有路由地址\nhttp://localhost:3000/rails/info\n")])])]),t("h2",{attrs:{id:"定义路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#定义路由"}},[e._v("#")]),e._v(" 定义路由")]),e._v(" "),t("ul",[t("li",[e._v("定义具名路由")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("get 'static_pages/help'  # 原来\nmatch '/help', to:'static_pages#help', via: 'get'  # 此方式不推荐\n")])])]),t("ul",[t("li",[e._v("定义嵌套路由")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# 建立嵌套式路由：http://localhost:3000/groups/1/posts/2\n\nresources :groups do\n  resources :posts\nend\n")])])]),t("ul",[t("li",[t("a",{attrs:{href:"http://stackoverflow.com/questions/3028653/difference-between-collection-route-and-member-route-in-ruby-on-rails",target:"_blank",rel:"noopener noreferrer"}},[e._v("difference between collection route and member route"),t("OutboundLink")],1)])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("resources :photos do\n member do\n   get :preview\n end\nend\n\nresources :photos do\n collection do\n   get :search\n end\nend\n")])])]),t("h2",{attrs:{id:"为restful-添加动作-使用-member-路由-collection-路由"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#为restful-添加动作-使用-member-路由-collection-路由"}},[e._v("#")]),e._v(" 为RESTful 添加动作，使用 member 路由，collection 路由")]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("resources :subscriptions do\n get 'unsubscribe', on: :member\nend\n\nresources :photos do\n get 'search', on: :collection\nend\n\n# 当需要定义多个 member/collection 路由时，应使用块结构\nresources :subscriptions do\n member do\n   get 'unsubscribe'\n   # 更多路由\n end\nend\n")])])]),t("h2",{attrs:{id:"遍历数据用-find-each-而不是是-all-each"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#遍历数据用-find-each-而不是是-all-each"}},[e._v("#")]),e._v(" 遍历数据用 "),t("code",[e._v("find_each")]),e._v(" 而不是是 "),t("code",[e._v("all.each")])]),e._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[e._v("# 好——分批检索记录\nUser.find_each do |user|\n NewsMailer.weekly(user).deliver_now\nend \n")])])]),t("h2",{attrs:{id:"数据库迁移-使用rake-db-scheme-load-初始化数据库"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据库迁移-使用rake-db-scheme-load-初始化数据库"}},[e._v("#")]),e._v(" 数据库迁移 使用"),t("code",[e._v("rake db:scheme:load")]),e._v(" 初始化数据库")]),e._v(" "),t("h2",{attrs:{id:"提醒"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#提醒"}},[e._v("#")]),e._v(" 提醒")]),e._v(" "),t("ul",[t("li",[e._v("請加在上方，routes.rb裡面越上面的規則優先權較高")]),e._v(" "),t("li",[e._v("数据库 rake 后需要重启服务")])])])}),[],!1,null,null,null);a.default=r.exports}}]);