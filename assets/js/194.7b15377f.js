(window.webpackJsonp=window.webpackJsonp||[]).push([[194],{565:function(a,t,e){"use strict";e.r(t);var s=e(42),l=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h1",{attrs:{id:"views相关"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#views相关"}},[a._v("#")]),a._v(" views相关")]),a._v(" "),e("h2",{attrs:{id:"概念"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[a._v("#")]),a._v(" 概念")]),a._v(" "),e("p",[a._v("ERb: Embedded Ruby （嵌入式 Ruby）")]),a._v(" "),e("h2",{attrs:{id:"使用模板"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#使用模板"}},[a._v("#")]),a._v(" 使用模板")]),a._v(" "),e("p",[a._v("如果这个 partial 不属于特定的 controller，一般的惯例是放到 shared 目录下。")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("# 由各页面提供的内容\n<%= yield %>\n\n# 用于生成 以控制器和动作命名的名称\n<%= params[:controller] + '-' + params[:action] %>\n\n# View 中\n<% provide(:title, 'Home') %>\n\n# Layout 中\n<title>Ruby on Rails | <%= yield(:title) %></title>\n\n# 为 provide 提供默认值\n< title> < %= content_for?(:title) ? content_for(:title) : 'This is a default title' %> < /title>\n\n# 防止跨站请求伪造\n<%= csrf_meta_tags %>\n")])])]),e("h2",{attrs:{id:"tips"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#tips"}},[a._v("#")]),a._v(" Tips")]),a._v(" "),e("ul",[e("li",[a._v("取得数据的三种方式：")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('f[:id]\nf.id\nf["id"]\n')])])]),e("p",[a._v("<%和<%=不太一樣，前者只執行不輸出，像用來迭代的each和end這兩行就不需要輸出。而後者<%= 裡的結果會輸出給瀏覽器。")]),a._v(" "),e("h2",{attrs:{id:"helper"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#helper"}},[a._v("#")]),a._v(" helper")]),a._v(" "),e("p",[a._v("Rails 内置了很多视图方法，也可以自己创建，成为 "),e("code",[a._v("helper")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('# app/helpers/application_helper.rb\nmodule ApplicationHelper  # module 为我们提供了一种把相关方法组织到一起的方式，\n\n  def full_title(page_title)\n      base_title = "Ruby on Rails Tutorial Sample App"\n      if page_title.empty?\n        base_title\n      else\n        "#{base_title} | #{page_title}"\n      end\n  end\nend\n')])])]),e("ul",[e("li",[a._v("tags")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('# link_to 第一个参数是链接文本，链接地址，[Hash可选]\n<%= link_to "sample app", \'#\', id: "logo" %>\n\n# image_tag 第一个参数为地址，第二可选为 Hash。使用帮助方法，会通过 Asset Pipeline\n# 自动在 app/assets/images/ 中寻找\n<%= link_to image_tag("rails.png", alt: "Rails"), \'http://rubyonrails.org/\' %>\n')])])]),e("h2",{attrs:{id:"navbar"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#navbar"}},[a._v("#")]),a._v(" navbar")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('<ul class="nav">\n  <li class="<%= \'active\' if params[:controller] == \'controller1\' %>"> <a href="/link">Link</a> </li>\n  <li class="<%= \'active\' if params[:controller] == \'controller2\' %>"> <a href="/link">Link</a> </li>\n  <li class="<%= \'active\' if params[:controller] == \'controller3\' %>"> <a href="/link">Link</a> </li>        \n</ul>\n')])])]),e("h2",{attrs:{id:"常用-view-helper"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#常用-view-helper"}},[a._v("#")]),a._v(" 常用 view_helper")]),a._v(" "),e("ul",[e("li",[a._v("button_to")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v(':disable_with => "Submitting...."\n')])])]),e("ul",[e("li",[a._v("link_to")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v("  <%= link_to 'Hello', welcome_say_hellow_path %>\n")])])]),e("ul",[e("li",[a._v("img_path")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('# 获取文件经过 rails 解析后 url 地址\n<%= asset_path("rails.png") %>\n')])])]),e("ul",[e("li",[a._v("返回按钮")])]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('<%= link_to_function "返回上一页", "history.go(-1)" %>\n')])])]),e("h2",{attrs:{id:"simple-fome-for"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#simple-fome-for"}},[a._v("#")]),a._v(" Simple_fome_for")]),a._v(" "),e("p",[a._v("调用 form_for 方法时，要指定一个对象。在上面的表单中，指定的是 :article。这个对象告诉 form_for，这个表单是用来处理哪个资源的")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('<%= form_for :romantic_order, url:webapp_romantic_order_path(current_user.id), :html => {id: "cancle"}, method: :patch do |f| %>\n    ……\n<% end %>\n\n# \x3c!--支付订单--\x3e\n<%= simple_form_for :set_menu, method: :post, remote: true,\n                    url: webapp_romantic_order_pay_path(params[:id])  do |f| %>\n    <%= f.input :to_pay, as: :hidden, input_html: {name: "to_pay", value: true} %>\n    <button type＝"submit" style＝"display:none" id= "btn_pay"></button>\n<% end %>\n')])])]),e("p",[a._v("<%= f.date_field :birthday, :value => Time.now.strftime('%Y-%m-%d') %>")]),a._v(" "),e("h2",{attrs:{id:"页面判断技巧"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#页面判断技巧"}},[a._v("#")]),a._v(" 页面判断技巧")]),a._v(" "),e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[a._v('# 三元运算符\n<% f.image.blank?  ? img_url = "order_active.png" : img_url = f.image  %>\n')])])])])}),[],!1,null,null,null);t.default=l.exports}}]);