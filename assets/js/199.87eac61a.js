(window.webpackJsonp=window.webpackJsonp||[]).push([[199],{569:function(a,t,s){"use strict";s.r(t);var e=s(42),n=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"七、rails语法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#七、rails语法"}},[a._v("#")]),a._v(" 七、Rails语法")]),a._v(" "),s("h2",{attrs:{id:"time"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#time"}},[a._v("#")]),a._v(" Time")]),a._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://stevenyue.com/blogs/date-time-datetime-in-ruby-and-rails/",target:"_blank",rel:"noopener noreferrer"}},[a._v("api-day"),s("OutboundLink")],1)])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# time TO 2016-06-04\nTime.at(@romantic_order.consume_time + 1.day - Time.now).utc.strftime("%H:%M:%S")\n')])])]),s("h2",{attrs:{id:"循环语句"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#循环语句"}},[a._v("#")]),a._v(" 循环语句")]),a._v(" "),s("ul",[s("li",[s("p",[a._v("if")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("if true\n\nelsif\n\nend\n")])])])]),a._v(" "),s("li",[s("p",[s("code",[a._v("case")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('case name\n  when "John"\n    puts "Howdy John!"\n  when "Ryan"\n    puts "Whatz up Ryan!"\n  else\n    puts "Hi #{name}!"\nend\n')])])])]),a._v(" "),s("li",[s("p",[s("code",[a._v("真假")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("只有false和nil是假，其他都为真\n")])])])])]),a._v(" "),s("h2",{attrs:{id:"array"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#array"}},[a._v("#")]),a._v(" Array")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# 将 nil 对象踢出！！！！\nArray.wrap([nil])\n# 带 index 的遍历\n  def count(array, status)\n    array.select{|i| i.status == status}.length\n  end\n")])])]),s("h2",{attrs:{id:"array-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#array-2"}},[a._v("#")]),a._v(" array")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("@suggested_horses.include?(horse)\n")])])]),s("h2",{attrs:{id:"json"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#json"}},[a._v("#")]),a._v(" JSON")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('JSON["calendars"].each do |key, value|\n  # working with value["busy"]...\nend\n')])])]),s("h2",{attrs:{id:"date"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#date"}},[a._v("#")]),a._v(" date")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# 获得今天星期几\nTime.now.wday\n\n# 日期转换\nTime.now.strftime("%Y-%m-%d %H:%M:%S")  #2016-05-23 14:32:32\n\n# 字符串 to Time\nreturn "2016-01-01".to_time\n\n# 获得本周开始日期\nDate.today.beginning_of_week\n\n# 获得本周开始时间\nTime.now.beginning_of_week\n\n# 获得今天开始\nTime.now.beginning_of_day\n\nTime.now + 10.minutes\nTime.now + 10.seconds\n')])])]),s("ul",[s("li",[a._v("将时间转换为 小时：分钟：秒")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("    def time_diff(start_time, end_time)\n      seconds_diff = (start_time - end_time).to_i.abs\n\n      hours = seconds_diff / 3600\n      seconds_diff -= hours * 3600\n\n      minutes = seconds_diff / 60\n      seconds_diff -= minutes * 60\n\n      seconds = seconds_diff\n      \"#{hours.to_s.rjust(2, '0')}:#{minutes.to_s.rjust(2, '0')}:#{seconds.to_s.rjust(2, '0')}\"\n    end\n")])])]),s("h2",{attrs:{id:"判断非空"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#判断非空"}},[a._v("#")]),a._v(" 判断非空")]),a._v(" "),s("ul",[s("li",[s("code",[a._v("present?")]),a._v(' 可判断 [],{},"",都为空')]),a._v(" "),s("li",[s("code",[a._v("nil?")])]),a._v(" "),s("li",[s("code",[a._v("blank?")])])]),a._v(" "),s("h2",{attrs:{id:"scss文件中使用-assets"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#scss文件中使用-assets"}},[a._v("#")]),a._v(" SCSS文件中使用 assets")]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v(".right-bar-filler{\n    background:url(asset-path('right_bar_filler.jpg', image)) repeat-y;\n    padding-top:0px;}\n")])])]),s("h2",{attrs:{id:"string"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#string"}},[a._v("#")]),a._v(" string")]),a._v(" "),s("ul",[s("li",[a._v("转换为 symble"),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v("# 语法\nstr.intern => symbol\nstr.to_sym => symbol\n\n# 例子\n\"Koala\".intern         #=> :Koala\ns = 'cat'.to_sym       #=> :cat\ns == :cat              #=> true\ns = '@cat'.to_sym      #=> :@cat\ns == :@cat             #=> true\n")])])])]),a._v(" "),s("li",[a._v("处理空格")])]),a._v(" "),s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[a._v('# 去除两端空格\n"   I have leading and trailing white space   ".strip\n\n# 取出行内空格\n"I have white space".delete(\' \')\n\n# regex 去除空格换行等\n"   I have leading and trailing white space   ".gsub(/\\s+/, "")\n')])])])])}),[],!1,null,null,null);t.default=n.exports}}]);